<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AAK Vegetables — Fresh Home Delivery</title>
  <meta name="description" content="Fresh vegetables delivered in Kalaburagi. Same-day delivery. Order online." />
  <style>
    /* Nature look theme */
    :root {
      --leaf: #2e7d32;
      --leaf-2: #1b5e20;
      --accent: #009688;
      --ink: #132018;
      --muted: #49614f;
      --card: #ffffff;
      --bg: #f3fbf4;
      --ring: 0 10px 30px rgba(19,32,24,.08);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; color: var(--ink); background: var(--bg); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    .container { max-width: 1100px; margin: 0 auto; padding: 0 18px; }
    .bg {
      position: fixed; inset: 0;
      background:
        radial-gradient(800px 400px at 10% -10%, #d7f7dc 0, transparent 60%),
        radial-gradient(800px 400px at 110% 0%, #e0fff3 0, transparent 60%);
      pointer-events: none; z-index: -1;
    }

    /* Nav */
    .nav { display: flex; align-items: center; justify-content: space-between; padding: 18px 0; }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 800; color: var(--leaf-2); }
    .nav-links a { margin-left: 18px; color: var(--muted); text-decoration: none; }
    .nav-links a:hover { color: var(--leaf-2); }

    /* Hero */
    .hero { display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: center; padding: 28px 0 10px; }
    .hero-left h1 { font-size: clamp(28px, 5vw, 48px); line-height: 1.05; margin: 0 0 12px; }
    .muted { color: var(--muted); }
    .cta-row { display: flex; gap: 12px; margin: 14px 0 10px; }
    .btn { border: 1px solid rgba(0,0,0,.08); border-radius: 999px; padding: 10px 16px; text-decoration: none; cursor: pointer; }
    .btn.primary { background: linear-gradient(135deg, var(--leaf), var(--accent)); color: #fff; box-shadow: var(--ring); }
    .btn.ghost { background: #fff; }
    .btn.small { padding: 8px 12px; }
    .pill { display: inline-block; font-size: 12px; padding: 6px 10px; border-radius: 999px; background: #fff; border: 1px solid rgba(0,0,0,.06); margin-right: 8px; }
    .hero-card { background: #fff; border-radius: var(--radius); box-shadow: var(--ring); padding: 12px; }
    .hero-img { width: 100%; height: auto; display: block; border-radius: 14px; background: linear-gradient(45deg, #4caf50, #81c784); min-height: 200px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; }
    .hero-note { font-size: 13px; color: var(--muted); margin-top: 8px; }

    /* Sections */
    .section { padding: 28px 0; }
    .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    .card { background: var(--card); border: 1px solid rgba(0,0,0,.06); border-radius: var(--radius); padding: 16px; box-shadow: var(--ring); }
    .card-title { font-weight: 700; }
    .price { font-weight: 800; margin: 10px 0 4px; color: var(--leaf-2); }

    .steps { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
    .step { display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: center; background:#fff; border-radius: var(--radius); padding: 12px 14px; border: 1px solid rgba(0,0,0,.06); box-shadow: var(--ring); }
    .step-num { width: 28px; height: 28px; display:flex; align-items:center; justify-content:center; background: var(--leaf); color: #fff; border-radius: 50%; font-weight: 800; }
    .step-title { font-weight: 700; }

    /* Footer */
    .footer { text-align: center; color: var(--muted); padding: 36px 0 60px; }

    /* Order Page Styles */
    .order-page { display: none; }
    .order-page.active { display: block; }

    .logo { display:flex; align-items:center; gap:12px; font-weight: 800; color: var(--leaf-2); }
    .logo-circle { width:44px; height:44px; border-radius:50%; background: linear-gradient(135deg,#2e7d32,#009688); box-shadow: var(--ring); }
    h1 { font-size: clamp(22px, 3vw, 30px); margin:0; letter-spacing: 0.3px; }
    .tag { color: var(--muted); font-size: 14px; }

    .order-grid { display:grid; grid-template-columns: 1fr 380px; gap: 20px; margin-top: 20px; }
    @media (max-width: 960px) { 
      .hero { grid-template-columns: 1fr; }
      .grid { grid-template-columns: repeat(2, 1fr); }
      .steps { grid-template-columns: repeat(2, 1fr); }
      .order-grid { grid-template-columns: 1fr; }
    }
    @media (max-width: 560px) {
      .grid { grid-template-columns: 1fr; }
      .steps { grid-template-columns: 1fr; }
    }

    .controls { display:flex; gap:12px; flex-wrap: wrap; align-items:center; margin-bottom: 12px; }
    input[type="search"] {
      flex: 1 1 260px; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(0,0,0,.1);
      background: #fff; color: var(--ink);
    }
    select, button, input, textarea { font: inherit; }
    select { padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(0,0,0,.1); background: #fff; color: var(--ink); }

    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px; border-bottom: 1px solid rgba(0,0,0,.08); text-align: left; }
    th { color: var(--muted); font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 0.6px; }

    .qty input { width: 84px; padding: 10px; border-radius: 10px; background: #fff; border: 1px solid rgba(0,0,0,.1); color: var(--ink); }
    .add-btn { padding: 8px 12px; border-radius: 10px; border: 1px solid rgba(0,0,0,.1); background: #fff; cursor: pointer; color: var(--ink); }
    .add-btn:hover { background: #f0f9f4; }

    .cart-item { display:flex; align-items:center; justify-content:space-between; gap: 12px; padding: 12px; border-radius: 12px;
                 background: #fff; border: 1px solid rgba(0,0,0,.08); }
    .remove { background: #fff; border: 1px solid rgba(0,0,0,.12); color: #d32f2f; padding: 6px 10px; border-radius: 10px; cursor:pointer; }

    .total { display:flex; align-items:center; justify-content:space-between; font-size: 18px; font-weight: 800; margin-top: 12px; }

    form.checkout { display:grid; gap: 12px; margin-top: 16px; }
    .two-col { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 520px) { .two-col { grid-template-columns: 1fr; } }
    .checkout input, .checkout textarea {
      padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(0,0,0,.1); background: #fff; color: var(--ink);
    }
    .checkout textarea { min-height: 80px; }

    .submit { padding: 14px 16px; border-radius: 12px; background: linear-gradient(135deg, #2e7d32, #009688); color: white; border: none; cursor: pointer; font-weight: 800; box-shadow: var(--ring); }
    .submit:disabled { opacity: 0.6; cursor: not-allowed; }
    .note { font-size: 13px; color: var(--muted); }

    .leaf-icon { width: 28px; height: 28px; background: var(--leaf); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; }
  </style>
</head>
<body>
  <div class="bg"></div>
  
  <!-- NG PAGE -->
  <div id="landing" class="landing-page">
    <nav class="nav container">
      <div class="brand">
        <div class="leaf-icon">🌿</div>
        <span>AAK Vegetables</span>
      </div>
      <div class="nav-links">
        <a href="#products">Products</a>
        <a href="#how">How it works</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>

    <section class="hero container">
      <div class="hero-left">
        <h1>Farm-fresh vegetables, delivered to your door</h1>
        <p class="muted">
          Handpicked produce from local vendors in Kalaburagi. Same-day delivery and fair pricing.
        </p>
        <div class="cta-row">
          <button class="btn primary" onclick="showOrderPage()">Order Now</button>
          <a class="btn ghost" href="#products">See Products</a>
        </div>
        <div class="badges">
          <span class="pill">Free delivery over ₹299</span>
          <span class="pill">Cash on Delivery / UPI</span>
          <span class="pill">Delivered in 2-3 hours</span>
        </div>
      </div>
      <div class="hero-right">
        <div class="hero-card">
          <div class="hero-img"><img src="https://th.bing.com/th/id/OSK.HEROboZXMRGD1D2YnoBMfHXd7u_lMAyiOrePVTzFoDA5YY8?w=472&h=280&c=13&rs=2&o=6&pid=SANGAM"></div>
          <div class="hero-note">Seasonal picks: tomato, onion, potato, coriander, mint, more…</div>
        </div>
      </div>
    </section>

    <section id="products" class="section container">
      <h2>Popular Products</h2>
      <div class="grid">
        <div class="card">
          <div class="card-title">Tomato</div>
          <div class="muted">per kg</div>
          <div class="price">₹30</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
        <div class="card">
          <div class="card-title">Onion</div>
          <div class="muted">per kg</div>
          <div class="price">₹28</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
        <div class="card">
          <div class="card-title">Potato</div>
          <div class="muted">per kg</div>
          <div class="price">₹25</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
        <div class="card">
          <div class="card-title">Coriander</div>
          <div class="muted">per bunch</div>
          <div class="price">₹10</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
        <div class="card">
          <div class="card-title">Mint</div>
          <div class="muted">per bunch</div>
          <div class="price">₹10</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
        <div class="card">
          <div class="card-title">Okra (Bhindi)</div>
          <div class="muted">per kg</div>
          <div class="price">₹45</div>
          <button class="btn small" onclick="showOrderPage()">Order</button>
        </div>
      </div>
    </section>

    <section id="how" class="section container">
      <h2>How it works</h2>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div>
            <div class="step-title">Choose items</div>
            <div class="muted">Browse our catalog and add the quantities you need.</div>
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div>
            <div class="step-title">Confirm address</div>
            <div class="muted">Share your delivery location and preferred time.</div>
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div>
            <div class="step-title">Pay on delivery</div>
            <div class="muted">Cash or UPI—whichever is easier.</div>
          </div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div>
            <div class="step-title">Same-day delivery</div>
            <div class="muted">Get fresh produce delivered quickly.</div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="section container">
      <h2>Contact</h2>
      <div class="card">
        <p>Call / WhatsApp: <a href="tel:+91 7795880422">+91 7795880422</a> · <a href="https://wa.me/+91 7795880422">Chat on WhatsApp</a></p>
        <p class="muted">Kalaburagi, Karnataka</p>
      </div>
    </section>

    <footer class="footer">© 2025 AAK Vegetables </footer>
  </div>

  <!-- ORDER PAGE -->
  <div id="order" class="order-page">
    <div class="container">
      <header style="display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom: 18px; margin-top: 28px;">
        <div class="logo">
          <div class="logo-circle" aria-hidden="true"></div>
          <div>
            <h1>Fresh Vegetables Home Delivery</h1>
            <div class="tag">AAK Vegetables · Kalaburagi</div>
          </div>
        </div>
        <div style="display: flex; gap: 10px;">
          <button class="pill" onclick="showLandingPage()" style="cursor: pointer;">← Back</button>
        </div>
      </header>

      <div class="order-grid">
        <!-- LEFT: PRODUCT LIST -->
        <section class="card">
          <div class="controls">
            <input type="search" id="search" placeholder="Search vegetables… (e.g., tomato, onion)" />
            <select id="unitFilter">
              <option value="all">All units</option>
              <option value="kg">Kg</option>
              <option value="bunch">Bunch</option>
              <option value="piece">Piece</option>
            </select>
          </div>
          <table id="productsTable" aria-label="Vegetables list">
            <thead>
              <tr>
                <th>Vegetable</th>
                <th>Price</th>
                <th>Qty</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="productsBody"></tbody>
          </table>
          <div class="note">Prices are indicative; final weight-based items may vary. Daily price will be update</div>
        </section>

        <!-- RIGHT: CART + CHECKOUT -->
        <aside class="card">
          <h2 style="margin-top:0">Your Cart</h2>
          <div id="cartItems" style="display:grid; gap:10px;"></div>
          <div class="total"><span>Subtotal</span><span id="subtotal">₹0.00</span></div>
          <div class="total"><span>Delivery Fee</span><span id="deliveryFee">₹20.00</span></div>
          <div class="total"><span><strong>Grand Total</strong></span><span id="grandTotal"><strong>₹0.00</strong></span></div>

          <form class="checkout" id="checkoutForm">
            <div class="two-col">
              <input required id="name" placeholder="Full Name" />
              <input required id="mobile" placeholder="Mobile Number" pattern="[0-9]{10}" title="Enter 10-digit mobile" />
            </div>
            <input required id="address" placeholder="House/Street Address" />
            <div class="two-col">
              <input required id="city" placeholder="City / Area" value="Kalaburagi" />
              <input required id="pincode" placeholder="Pincode" pattern="[0-9]{6}" />
            </div>
            <select id="payment" required>
              <option value="COD">Cash on Delivery</option>
              <option value="UPI">UPI</option>
              
            </select>
            <textarea id="notes" placeholder="Landmark / preferred delivery time…"></textarea>
            <button type="submit" class="submit" id="submitBtn">Place Order</button>
            <div class="note"></div>
            <div id="msg" class="note"></div>
          </form>
        </aside>
      </div>
    </div>
  </div>

  <script>
    // ================================
    // PAGE NAVIGATION
    // ================================
    function showOrderPage() {
      document.getElementById('landing').style.display = 'none';
      document.getElementById('order').style.display = 'block';
      initOrderPage();
    }

    function showLandingPage() {
      document.getElementById('landing').style.display = 'block';
      document.getElementById('order').style.display = 'none';
    }

    // ================================
    // ORDER PAGE LOGIC
    // ================================
    const VEGETABLES = [
      { id: 'tomato',  name: 'Tomato',      unit: 'kg',    price: 40 },
      { id: 'onion',   name: 'Onion',       unit: 'kg',    price: 28 },
      { id: 'potato',  name: 'Potato',      unit: 'kg',    price: 25 },
      { id: 'brinjal', name: 'Brinjal',     unit: 'kg',    price: 40 },
      { id: 'chilli',  name: 'Green Chilli',unit: 'kg',    price: 80 },
      { id: 'cabbage', name: 'Cabbage',     unit: 'kg',    price: 35 },
      { id: 'cauli',   name: 'Cauliflower', unit: 'kg',    price: 45 },
      { id: 'carrot',  name: 'Carrot',      unit: 'kg',    price: 50 },
      { id: 'radish',  name: 'Radish',      unit: 'kg',    price: 28 },
      { id: 'beet',    name: 'Beetroot',    unit: 'kg',    price: 38 },
      { id: 'methi',   name: 'Methi',       unit: 'bunch', price: 15 },
      { id: 'dhaniya', name: 'Coriander',   unit: 'bunch', price: 10 },
      { id: 'pudina',  name: 'Mint (PUDINA)',        unit: 'bunch', price: 10 },
      { id: 'lemon',   name: 'Lemon',       unit: 'piece', price: 3 },
      { id: 'bhindi',  name: 'Okra (Bhindi)',unit: 'kg',   price: 45 },
      { id: 'bottle',  name: 'Bottle Gourd',unit: 'piece', price: 25 },
      { id: 'cucumber',name: 'Cucumber',    unit: 'kg',    price: 30 },
      { id: 'beans',   name: 'French Beans',unit: 'kg',    price: 70 },
      { id: 'pumpkin', name: 'Pumpkin',     unit: 'kg',    price: 28 },
      { id: 'garlic',  name: 'Garlic',      unit: 'kg',    price: 180 },
      { id: 'peas',    name: 'Green Peas',  unit: 'kg',    price: 90 },
      { id: 'lettuce', name: 'Lettuce',     unit: 'piece', price: 50 },
    ];

    const state = { cart: [] };

    function initOrderPage() {
      const productsBody = document.getElementById('productsBody');
      const search = document.getElementById('search');
      const unitFilter = document.getElementById('unitFilter');

      function renderProducts() {
        const query = search.value.trim().toLowerCase();
        const unit = unitFilter.value;
        const list = VEGETABLES.filter(v => {
          const matchesText = v.name.toLowerCase().includes(query) || v.id.includes(query);
          const matchesUnit = unit === 'all' ? true : v.unit === unit;
          return matchesText && matchesUnit;
        });
        productsBody.innerHTML = list.map(v => `
          <tr>
            <td><strong>${v.name}</strong><div class="muted">per ${v.unit}</div></td>
            <td>₹${v.price}</td>
            <td class="qty"><input type="number" id="qty-${v.id}" min="0" step="0.25" placeholder="0" /></td>
            <td><button class="add-btn" onclick="addToCart('${v.id}')">Add</button></td>
          </tr>
        `).join('');
      }

      search.addEventListener('input', renderProducts);
      unitFilter.addEventListener('change', renderProducts);

      function computeTotals() {
        const subtotal = state.cart.reduce((sum, i) => sum + i.price * i.qty, 0);
        const deliveryFee = subtotal > 299 ? 0 : (subtotal === 0 ? 0 : 20);
        const discount = 0;
        const grand = Math.max(0, subtotal + deliveryFee - discount);
        return { subtotal, deliveryFee, discount, grand };
      }

      function renderCart() {
        const box = document.getElementById('cartItems');
        if (state.cart.length === 0) {
          box.innerHTML = '<div class="muted">Your cart is empty.</div>';
        } else {
          box.innerHTML = state.cart.map(i => `
            <div class="cart-item">
              <div>
                <div><strong>${i.name}</strong> · ${i.qty} ${i.unit} × ₹${i.price}</div>
                <div class="muted">Item total: ₹${(i.price * i.qty).toFixed(2)}</div>
              </div>
              <button class="remove" onclick="removeFromCart('${i.id}')">Remove</button>
            </div>
          `).join('');
        }
        const { subtotal, deliveryFee, grand } = computeTotals();
        document.getElementById('subtotal').textContent = `₹${subtotal.toFixed(2)}`;
        document.getElementById('deliveryFee').textContent = `₹${deliveryFee.toFixed(2)}`;
        document.getElementById('grandTotal').textContent = `₹${grand.toFixed(2)}`;
      }

      window.addToCart = function(id) {
        const product = VEGETABLES.find(v => v.id === id);
        const qtyInput = document.getElementById(`qty-${id}`);
        const qty = parseFloat(qtyInput.value);
        if (!qty || qty <= 0) { alert('Enter a valid quantity'); return; }

        const existing = state.cart.find(i => i.id === id);
        if (existing) { existing.qty += qty; }
        else { state.cart.push({ id, name: product.name, unit: product.unit, price: product.price, qty }); }
        qtyInput.value = '';
        renderCart();
      }

      window.removeFromCart = function(id) {
        state.cart = state.cart.filter(i => i.id !== id);
        renderCart();
      }

      const form = document.getElementById('checkoutForm');
      const msg = document.getElementById('msg');
      const submitBtn = document.getElementById('submitBtn');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (state.cart.length === 0) { alert('Please add items to cart'); return; }
        
        submitBtn.disabled = true;
        msg.textContent = 'Processing  order…';

        // Submit order to Google Sheets Web App
        try {
          const order = {
            name: document.getElementById('name').value,
            mobile: document.getElementById('mobile').value,
            address: document.getElementById('address').value,
            city: document.getElementById('city').value,
            pincode: document.getElementById('pincode').value,
            payment: document.getElementById('payment').value,
            notes: document.getElementById('notes').value,
            cart: state.cart.map(i => `${i.name} - ${i.qty} ${i.unit} x ₹${i.price}`).join(", "),
            total: document.getElementById('grandTotal').textContent
          };
          const res = await fetch("https://script.google.com/macros/s/AKfycbxojfciUhuJMxpz-vnlW14b7Kb_Vo8iy9GF1JWPKdIwS-pNo0dYQjaBdm8z81b1H2Dk1A/exec", {
            method: "POST",
            body: JSON.stringify(order)
          });
          const json = await res.json();
          if (json.result === "success") {
            msg.textContent = "✅ Order placed successfully!";
            state.cart = []; 
            renderCart(); 
            form.reset();
          } else {
            msg.textContent = "❌ Error submitting order.";
          }
        } catch (err) {
          console.error(err);
          msg.textContent = "⚠️ Network error.";
        }
        setTimeout(() => {
          const orderId = `Vege-${Date.now().toString().slice(-6)}`;
          msg.textContent = `✅ Order placed! Order ID: ${orderId}`;
          state.cart = []; 
          renderCart(); 
          form.reset();
          submitBtn.disabled = false;
        }, 2000);
      });

      renderProducts();
      renderCart();
    }

    // Initialize landing page
    document.getElementById('landing').style.display = 'block';
    document.getElementById('order').style.display = 'none';
  </script>
</body>
</html>